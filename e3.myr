use std

/*
	The prime factors of 13195 are 5, 7, 13 and 29.

	What is the largest prime factor of the number 600851475143 ?
*/

const isprime = {n : uint64
	match n
	| 1 : -> false
	| 2 : -> true
	| 3 : -> true
	| _ :
	;;
	var end = n/2
	for var i = 3; i < end ; i += 2
		if n % i == 0
			-> false
		;;
	;;
	-> true
}

const main = {
	var n : uint64 = 775146
	while true
		n -= 1
		if !isprime(n)
			continue
		;;
		if 600851475143 % n == 0
			std.put("{}\n", n)
			->
		;;
	;;
}
